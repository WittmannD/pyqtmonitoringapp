(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),o=n.n(i),r=n(29),l=n(13),s=n(14),d=n(142),j=n(118),b=n(73),u=n(159),p=n(145),m=n(146),x=n(147),O=n(148),h=n(149),g=n(150),f=n(151),w=n(152),v=n(153),C=n(154),y=n(155),I=n(156),S=n(158),k=n(157),N=n(160),E=n(18),M=n(55),J=n.n(M),z=n(71),B=n.n(z),T=n(66),D=n.n(T),P=n(70),V=n.n(P),F=n(67),_=n.n(F),q=n(68),L=n.n(q),R=n(3),A=n(54),G=n(64),W=(n(92),n(50)),X=n.n(W),H=n(43),U=n.n(H),Q=n(4),K=Object(d.a)((function(e){return{root:{height:"calc(100vh - 10px)","& > div":{alignContent:"flex-start"},"& > div > div:nth-child(1)":{height:"60px"}},titlesContainer:{overflow:"hidden",maxHeight:"calc(100vh - 60px - 10px)"},monitorsContainer:{overflow:"hidden",maxHeight:"calc(100vh - 60px - 10px)"},monitorCard:{padding:e.spacing(2),marginBottom:e.spacing(2),backgroundColor:"rgba(250, 250, 250, 1)",backgroundImage:"linear-gradient(0deg, rgba(247,247,247,1) 0%, rgba(231,231,231,1) 100%)",cursor:"pointer"},card:{display:"flex",marginBottom:e.spacing(2),backgroundColor:"rgba(250, 250, 250, 1)",backgroundImage:"linear-gradient(0deg, rgba(247,247,247,1) 0%, rgba(231,231,231,1) 100%)",height:"200px"},monitorCardSelected:{backgroundImage:"linear-gradient(0deg, rgba(228,243,255,1) 0%, rgba(211,227,253,1) 100%)"},tabCount:{marginBottom:"10px",marginRight:"10px"},flexExpand:{flexGrow:1},delete:{color:e.palette.error.light},add:{color:e.palette.text.secondary},success:{color:e.palette.success.dark},error:{color:e.palette.error.dark},back:{color:e.palette.text.secondary},openInExplorer:{color:"rgba(255, 255, 255, 0.75)"},cardCover:{flexBasis:"30%",flexShrink:0,flexGrow:0,position:"relative"},cardContent:{flexGrow:1},bullet:{display:"inline-block",margin:"0 4px",transform:"scale(0.8)"},elide:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},altTitles:{overflow:"hidden",display:"-webkit-box",boxOrient:"vertical",lineClamp:2},fixed:{position:"fixed"},formDetail:{color:"rgba(0, 0, 0, 0.26)",fontSize:"0.6em",textTransform:"uppercase"}}}));function Y(e){var t=K(),n=Object(a.useState)(e.data.get("selected")),c=Object(s.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){o(e.data.get("selected"))}),[e.data]),e.defaultMonitor?Object(Q.jsxs)(j.a,{elevation:0,className:t.monitorCard,onClick:e.onClick,children:[Object(Q.jsx)(b.a,{variant:"body1",component:"h3",children:e.data.get("name")}),Object(Q.jsx)(b.a,{variant:"caption",component:"p",children:e.data.get("description")})]}):Object(Q.jsxs)(j.a,{className:Object(R.a)(t.monitorCard,Object(l.a)({},t.monitorCardSelected,i)),onClick:e.onClick,elevation:0,children:[Object(Q.jsx)(b.a,{variant:"body1",component:"h3",children:e.data.getIn(["options","name"])}),Object(Q.jsx)(b.a,{variant:"caption",component:"p",children:e.data.getIn(["options","description"])}),Object(Q.jsx)(u.a,{sx:{width:"100%"},mt:2,children:Object(Q.jsx)(p.a,{color:"secondary"})})]})}function Z(e){var t=K();function n(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;t||(n=Math.ceil(1e3*e));var a=new Date(n);return a.toLocaleString()}var a="http://seoji.nl.go.kr/landingPage?isbn="+e.data.getIn(["title","isbn"]),c=function(){var t=decodeURI(e.data.getIn(["title","cover"]));return new URL("file:///".concat(t)).href};return Object(Q.jsxs)(m.a,{className:t.card,elevation:0,children:[Object(Q.jsxs)(x.a,{className:t.cardCover,image:c(),title:"cover",children:[Object(Q.jsx)(u.a,{position:"absolute",top:0,left:0,p:1,children:Object(Q.jsx)(O.a,{size:"small",className:t.openInExplorer,onClick:function(t){e.openInExplorer(c())},children:Object(Q.jsx)(D.a,{fontSize:"small"})})}),e.data.getIn(["info","status"])&&Object(Q.jsx)(u.a,{position:"absolute",top:0,right:0,p:1,children:Object(Q.jsx)(U.a,{variant:"popper",popupId:"demo-popup-popper",children:function(a){return Object(Q.jsxs)("div",{children:["success"===e.data.getIn(["info","status"])&&Object(Q.jsx)(O.a,Object(r.a)(Object(r.a)({size:"small",className:t.success},Object(H.bindToggle)(a)),{},{children:Object(Q.jsx)(_.a,{fontSize:"small"})})),"error"===e.data.getIn(["info","status"])&&Object(Q.jsx)(O.a,Object(r.a)(Object(r.a)({size:"small",className:t.error},Object(H.bindToggle)(a)),{},{children:Object(Q.jsx)(L.a,{fontSize:"small"})})),Object(Q.jsx)(h.a,Object(r.a)(Object(r.a)({},Object(H.bindPopper)(a)),{},{children:Object(Q.jsx)(g.a,{onClickAway:a.close,children:Object(Q.jsx)(j.a,{children:Object(Q.jsxs)(u.a,{sx:{p:2},children:[Object(Q.jsxs)(b.a,{variant:"body2",gutterBottom:!0,children:[Object(Q.jsx)("i",{children:n(e.data.getIn(["info","timestamp"]),!0)}),": ",e.data.getIn(["info","status"])]}),Object(Q.jsx)(b.a,{variant:"body2",children:e.data.getIn(["info","message"])})]})})})}))]})}})})]}),Object(Q.jsxs)(u.a,{display:"flex",width:"70%",flexDirection:"column",children:[Object(Q.jsxs)(f.a,{className:t.cardContent,children:[Object(Q.jsxs)(u.a,{display:"flex",justifyContent:"space-between",children:[Object(Q.jsxs)(b.a,{variant:"caption",className:Object(R.a)(t.formDetail,t.elide),title:"form detail",children:[Object(Q.jsxs)("span",{style:{display:"inline-block",width:"110px"},children:["form: ",Object(Q.jsx)("b",{children:e.data.getIn(["title","description",3])})]}),Object(Q.jsxs)("span",{children:["publisher: ",Object(Q.jsx)("b",{children:e.data.getIn(["title","description",2])})]})]}),Object(Q.jsx)(b.a,{variant:"caption",component:"div",align:"right",style:{flex:"1 0 150px"},children:Object(Q.jsx)("span",{children:n(e.data.getIn(["title","timestamp"]))})})]}),Object(Q.jsx)(b.a,{variant:"body1",component:"h3",className:t.elide,children:e.data.getIn(["title","rus_title"])}),Object(Q.jsxs)(b.a,{variant:"caption",component:"h4",gutterBottom:!0,className:t.altTitles,children:[Object(Q.jsx)("span",{children:e.data.getIn(["title","eng_title"])}),Object(Q.jsx)("span",{className:t.bullet,children:"\u2022"}),Object(Q.jsx)("span",{children:e.data.getIn(["title","kor_title"])})]}),Object(Q.jsx)(b.a,{children:Object(Q.jsxs)(w.a,{href:a,onClick:function(t){e.openInBrowser(a),t.preventDefault()},variant:"caption",children:["ISBN ",e.data.getIn(["title","isbn"])]})})]}),Object(Q.jsxs)(v.a,{children:[Object(Q.jsx)(C.a,{onClick:e.send,className:Object(R.a)(t.flexExpand),children:"Fill Form"}),Object(Q.jsx)(C.a,{onClick:e.remove,startIcon:Object(Q.jsx)(J.a,{className:t.delete}),children:"Delete"})]})]})]})}var $=function(){var e=K(),t=(Object(a.useRef)(Object(E.a)()),Object(a.useState)(0)),n=Object(s.a)(t,2),c=(n[0],n[1]),i=Object(a.useState)(Object(E.a)()),o=Object(s.a)(i,2),r=o[0],l=o[1],d=Object(a.useState)(Object(E.a)()),j=Object(s.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(Object(E.a)()),x=Object(s.a)(m,2),h=x[0],g=x[1],f=Object(a.useState)({tabsCountValue:1,autoMode:!0}),w=Object(s.a)(f,2),v=w[0],M=w[1],z=Object(a.useState)(!1),T=Object(s.a)(z,2),D=T[0],P=T[1],F=function(e){return window.Controller.openCoverInExplorerEmit(e)},_=function(e){return window.Controller.openLinkInBrowserEmit(e)};return Object(a.useEffect)((function(){window.Controller.changeAutoModeEmit(v.autoMode)}),[v.autoMode]),Object(a.useEffect)((function(){window.Controller.getInitialData((function(e){e=JSON.parse(e),p((function(t){return Object(E.b)(e.monitors)}))}));var e=JSON.parse(window.localStorage.getItem("titles"));e&&g(Object(E.b)(e)),window.Controller.commitTab.connect((function(e){c((function(t){return t+Math.pow(-1,!e)}))})),window.Controller.commitTitle.connect((function(e){var t=JSON.parse(e);g((function(e){return e.set(t.uid,Object(E.b)({info:{status:null,message:null,timestamp:null},title:t}))}))})),window.Controller.setTitleStatus.connect((function(e){var t=Object(E.b)(JSON.parse(e));g((function(e){return e.updateIn([t.get(0),"info"],(function(e){return t.get(1)}))}))})),window.Controller.commitMonitor.connect((function(e){var t=JSON.parse(e);l((function(e){return e.set(t.uid,Object(E.b)({selected:!1,options:t}))}))}));var t=JSON.parse(window.localStorage.getItem("state"));t&&M(t)}),[]),Object(a.useEffect)((function(){window.localStorage.setItem("titles",JSON.stringify(h.toJS()))}),[h]),Object(a.useEffect)((function(){window.localStorage.setItem("state",JSON.stringify(v))}),[v]),Object(Q.jsx)(y.a,{maxWidth:"lg",children:Object(Q.jsxs)(I.a,{container:!0,spacing:2,className:e.root,children:[Object(Q.jsx)(I.a,{item:!0,container:!0,xs:12,sm:4,spacing:2,style:{height:"100%"},children:D?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(I.a,{item:!0,xs:12,children:Object(Q.jsx)(O.a,{"aria-label":"back",size:"medium",className:e.back,onClick:function(){P(!1)},children:Object(Q.jsx)(V.a,{fontSize:"small"})})}),Object(Q.jsx)(I.a,{item:!0,xs:12,spacing:0,style:{height:"calc(100% - 60px)"},children:Object(Q.jsx)(X.a,{options:{suppressScrollX:!1},style:{width:"100%"},children:b.map((function(e){return Object(Q.jsx)(Y,{data:e,defaultMonitor:!0,onClick:function(t){!function(e){window.Controller.addMonitorEmit(JSON.stringify({uid:Object(G.a)(16),name:e.get("name"),keyword:e.getIn(["payload","q"]),description:e.get("description"),timeout:e.get("timeout"),check_every:e.get("check_every"),method:e.get("method"),url:e.get("url"),payload:e.get("payload").toJS()}))}(e),P(!1)}},e.get("uid"))}))})})]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(I.a,{item:!0,xs:12,children:[Object(Q.jsx)(O.a,{"aria-label":"add",size:"medium",className:e.add,onClick:function(){P(!0)},children:Object(Q.jsx)(B.a,{fontSize:"small"})}),Object(Q.jsx)(O.a,{"aria-label":"delete",size:"medium",className:e.delete,onClick:function(e){var t=Object(E.a)();r.forEach((function(e,n,a){e.get("selected")?window.Controller.removeMonitorEmit(n):t=t.set(n,e)})),l(t)},children:Object(Q.jsx)(J.a,{fontSize:"small"})})]}),Object(Q.jsx)(I.a,{item:!0,xs:12,spacing:0,style:{height:"calc(100% - 60px)"},children:Object(Q.jsx)(X.a,{options:{suppressScrollX:!1},style:{width:"100%"},children:r.entrySeq().map((function(e,t){var n=Object(s.a)(e,2),a=n[0],c=n[1];return Object(Q.jsx)(Y,{data:c,onClick:function(){l(r.update(a,(function(e){return e.set("selected",!e.get("selected"))})))}},a)}))})})]})}),Object(Q.jsxs)(I.a,{item:!0,container:!0,xs:12,sm:8,spacing:2,style:{height:"100%"},children:[Object(Q.jsxs)(I.a,{item:!0,container:!0,xs:12,justifyContent:"space-between",alignContent:"center",children:[Object(Q.jsxs)(u.a,{display:"flex",alignItems:"center",flexBasis:"55%",children:[Object(Q.jsx)(S.a,{label:"Tabs Count",type:"number",value:v.tabsCountValue,onChange:function(e){return M((function(t){return{tabsCountValue:e.target.value,autoMode:t.autoMode}}))},InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:14,min:1}},size:"small",fullWidth:!0,className:e.tabCount}),Object(Q.jsx)(C.a,{onClick:function(e){window.Controller.createTabsEmit(v.tabsCountValue)},children:"create"})]}),Object(Q.jsx)(u.a,{display:"flex",alignItems:"center",children:Object(Q.jsx)(k.a,{value:"start",control:Object(Q.jsx)(N.a,{color:"primary",checked:v.autoMode,onChange:function(e){return M((function(t){return{tabsCountValue:t.tabsCountValue,autoMode:e.target.checked}}))}}),label:"Auto mode",labelPlacement:"start"})})]}),Object(Q.jsx)(I.a,{item:!0,xs:12,spacing:0,style:{height:"calc(100% - 60px)"},children:Object(Q.jsx)(X.a,{options:{suppressScrollX:!1},style:{width:"100%"},children:h.sortBy((function(e){return-e.getIn(["title","timestamp"])})).entrySeq().map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(Q.jsx)(Z,{data:a,remove:function(e){return t=n,g((function(e){return e.delete(t)}));var t},send:function(e){return t=a,window.Controller.addTitleForSendEmit(JSON.stringify(["client",t.get("title").toJS()]));var t},openInBrowser:_,openInExplorer:F},n)}))})})]})]})})};new A.QWebChannel(window.qt.webChannelTransport,(function(e){window.Browser=e.objects.backend,window.Controller=e.objects.controller,o.a.render(Object(Q.jsx)(c.a.StrictMode,{children:Object(Q.jsx)($,{})}),document.getElementById("root"))}))}},[[116,1,2]]]);
//# sourceMappingURL=main.ca5b6c9c.chunk.js.map